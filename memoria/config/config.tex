\usepackage[utf8]{inputenc}
\usepackage[T1]{fontenc}
\usepackage[spanish,es-lcroman]{babel}
\usepackage{graphicx}
\usepackage{tabularx}
\newcolumntype{C}[1]{>{\centering\let\newline\\\arraybackslash\hspace{0pt}}m{#1}}
\usepackage{float}
\usepackage{wrapfig}
\usepackage{amssymb}
\usepackage[colorlinks=true, 
            pagebackref=true, 
            citecolor=magenta, 
            urlcolor=RoyalBlue,
            linkcolor=BrickRed,
            linktocpage=true]{hyperref}
\usepackage{amsmath}
\usepackage{amsthm}
\usepackage{wasysym}
\usepackage{dsfont}
\usepackage{enumerate}
\PassOptionsToPackage{usenames,dvipsnames}{xcolor}
\usepackage{tikz}



% *************************************************************************************************************
% Entorno para ejemplos y contraejemplos
% https://tex.stackexchange.com/questions/5223/command-for-argmin-or-argmax
% *************************************************************************************************************
\usepackage{mdframed} % Add easy frames to paragraphs
\usepackage{lipsum} % For dummy text
\usepackage{xparse} % Add support for \NewDocumentEnvironment
\definecolor{lightgray}{cmyk}{.30,0,0,.67} % define color using xcolor syntax
\definecolor{midgray}{gray}{0.40}

\newmdenv[ % Define mdframe settings and store as leftrule
  linecolor=lightgray,
  topline=false,
  bottomline=false,
  rightline=false,
  skipabove=\topsep,
  skipbelow=\topsep
]{leftrule}

\NewDocumentEnvironment{example}{O{\textbf{Ejemplo:}}}
{\begin{leftrule}\noindent\textcolor{black}{#1}\par}
{\end{leftrule}}

\NewDocumentEnvironment{counterex}{O{\textbf{Contraejemplo:}}}
{\begin{leftrule}\noindent\textcolor{black}{#1}\par}
{\end{leftrule}}

% *************************************************************************************************************
% Entorno para demostraciones dentro de demostraciones
% *************************************************************************************************************
\newenvironment{subenv}
{\setlength\leftskip{-2em}
\setlength\leftskip{2em}}

% *************************************************************************************************************
% Definiciones de teoremas, corolarios, lemas
% *************************************************************************************************************
% https://tex.stackexchange.com/questions/43966/how-to-make-the-optional-title-of-a-theorem-bold-with-amsthm
\newtheoremstyle{mythm}%                  % Name
  {}%                                     % Space above
  {}%                                     % Space below
  {\itshape}%                             % Body font
  {}%                                     % Indent amount
  {\bfseries}%                            % Theorem head font
  {.}%                                    % Punctuation after theorem head
  { }%                                    % Space after theorem head, ' ', or \newline
  {\thmname{#1}\thmnumber{ #2}\thmnote{ (#3)}}%    
  
\theoremstyle{mythm}

\newtheorem{thm}{theorem}[section]
\newtheorem{theorem}[thm]{Teorema}
\newtheorem*{theorem*}{Teorema}
\newtheorem{fact}[thm]{Proposición}
\newtheorem*{fact*}{Proposición}
\newtheorem{lemma}[thm]{Lema}
\newtheorem*{lemma*}{Lema}
\newtheorem{corollary}[thm]{Corolario}
\newtheorem*{corollary*}{Corolario}
\newtheorem{definition}[thm]{Definición}
\newtheorem*{definition*}{Definición}
\newtheorem{charact}[thm]{Caracterización}
\newtheorem*{charact*}{Caracterización}

% *************************************************************************************************************
% Comandos
% *************************************************************************************************************

% Inserción de imágenes
\newcommand{\img}[2]{
  \begin{center}
  \includegraphics[width=#2\textwidth]{#1}
  \end{center}
}

\newcommand{\imgcaption}[3]{
\begin{figure}[H]
  \begin{center}
  \includegraphics[width=#3\textwidth]{#1}
  \end{center}
  
  \caption[]{#2}
\end{figure}
}

% arg min
\DeclareMathOperator*{\argmin}{arg\,\min }
\DeclareMathOperator*{\argmax}{arg\,\max }

% norma || ||
\newcommand{\norm}[1]{||{#1}||}


% Para hacer el underbrace de columnas de matrices
% Fuente: https://tex.stackexchange.com/questions/102460/underbraces-in-matrix-divided-in-blocks

\newcommand\undermat[2]{%
  \makebox[0pt][c]{$\smash{\underbrace{\phantom{%
    \begin{array}{r} #2 \end{array}}}_{\text{$#1$}}}$}#2}


% Abreviaciones para escribir menos
\newcommand{\mprob}{\underset{S\sim \mathcal{D}^m}{P}}
\newcommand{\dosmprob}{\underset{S\sim \mathcal{D}^{2m}}{P}}
\newcommand{\munoprob}{\underset{S_1\sim \mathcal{D}^m}{P}}
\newcommand{\mdosprob}{\underset{S_2\sim \mathcal{D}^m}{P}}
\newcommand{\mmprob}{\underset{\begin{subarray}{c} 
				S_1 \sim \mathcal{D}^{m} \\ 
				S_2 \sim\mathcal{D}^m 
				\end{subarray}}{P}}
\newcommand{\prob}{\underset{x\sim \mathcal{D}}{P}}
\newcommand{\zprob}{\underset{z\sim \mathcal{D}}{P}}
\newcommand{\dist}{\mathcal{D}}
\newcommand{\expect}{\mathbb{E}}
\newcommand{\mexpecti}[1]{\underset{S\sim \mathcal{D}_{#1}^m}{\mathbb{E}}}
\newcommand{\mexpect}{\underset{S\sim \mathcal{D}^m}{\mathbb{E}}}
\newcommand{\dosmexpect}{\underset{S\sim \mathcal{D}^{2m}}{\mathbb{E}}}
\newcommand{\ppos}{P^{+}}
\newcommand{\pneg}{P^{-}}
\newcommand{\npos}{N^{+}}
\newcommand{\nneg}{N^{-}}
\newcommand{\spos}{S^{+}}
\newcommand{\sneg}{S^{-}}
\newcommand{\Hclass}{\lfloor H \rfloor_{\dist}}

% *************************************************************************************************************
% Pseudocódigo de algoritmos
% *************************************************************************************************************
\usepackage{algorithm}
\usepackage{algorithmic}
\floatname{algorithm}{Algoritmo}
\renewcommand{\listalgorithmname}{Lista de algoritmos}
\renewcommand{\algorithmicrequire}{\textbf{Entrada:}}
\renewcommand{\algorithmicensure}{\textbf{Salida:}}

\makeatletter
\def\NEWLINE{\STATE{}}
\makeatother

% *************************************************************************************************************
% Listings de código
% *************************************************************************************************************
\usepackage{listings}
\renewcommand{\lstlistingname}{Código}
\definecolor{light-gray}{gray}{0.97}

\lstset{
  language=R,
  literate={<-}{{\boldmath{$\gets$}}}1,
  basicstyle=\small\linespread{1.3}\ttfamily,
  commentstyle=\ttfamily\color{OliveGreen},
  stringstyle=\color{Thistle},
  numbers=left,
  numberstyle=\scriptsize\ttfamily\color{RoyalBlue},
  stepnumber=1,
  numbersep=5pt,
  backgroundcolor=\color{light-gray},
  showspaces=false,
  showstringspaces=false,
  showtabs=false,
  %frame=single,
  tabsize=2,
  captionpos=b,
  breaklines=true,
  breakatwhitespace=false,
  %title=\lstname,
  escapeinside={},
  keywordstyle={},
  morekeywords={}
}

\usepackage{config/Rd}

% *************************************************************************************************************
% Otras configuraciones
% *************************************************************************************************************
\setlength{\parindent}{0pt}
\setlength{\parskip}{1em}
\everymath{\displaystyle}

% *************************************************************************************************************
% Classicthesis
% *************************************************************************************************************
\usepackage[pdfspacing,
            eulerchapternumbers, 
            parts, 
            beramono,
            %eulermath,
            pdfspacing, 
            manychapters]{classicthesis}
            
% *************************************************************************************************************
% Bibliografía
% *************************************************************************************************************
%\bibliographystyle{apacite} 
%\bibliographystyle{apalike}
%\bibliographystyle{unsrtnat}
%\bibliographystyle{abbrvnat.bst}
%\bibliographystyle{IEEEtran}
\bibliographystyle{config/custom-dinat}
\usepackage[sort&compress,square, comma, authoryear]{natbib}
% Alias in monospace letter for R packages or other programming resources
\def\R{\texttt{R} }
\defcitealias{rlang}{\texttt{R}}
\defcitealias{rsmote}{\texttt{smotefamily}}
\defcitealias{rrose}{\texttt{ROSE}}
\defcitealias{rcpp}{\texttt{Rcpp}}
\defcitealias{rarmadillo}{\texttt{Armadillo}}
\defcitealias{scikit}{\texttt{scikit-learn}}
\defcitealias{rdevtools}{\texttt{devtools}}
\defcitealias{rweka}{\texttt{RWeka}}
\defcitealias{keel}{KEEL}
\defcitealias{uci}{UCI}