\section{$\sigma$ álgebras, anillos y semianillos}

Sea en lo que sigue $X$ un conjunto. Dados $A_i \subseteq X$, para $i=1, \ldots n$, notamos $\sum_{i=1}^n A_i$
a su unión disjunta, esto es $\bigcup_{i=1}^n A_i$ con $A_i \cap A_j = \emptyset$ cuando $i\neq j$.

\begin{definition} \textbf{Conjunto potencia}

 Definimos el conjunto potencia de $X$ como $\mathcal{P}(X):= \{A: A\subseteq X\}$.
 
 Como notación para $\mathcal{P}(X)$ usaremos frecuentemente $2^X$.
\end{definition}


\begin{definition} \textbf{$\sigma$-álgebra}

 $\Sigma \subseteq 2^X$ es $\sigma$-álgebra de conjuntos sobre $X$ si se verifica:
 
 \begin{enumerate}[i]
  \item $X \in \Sigma$
  \item $\Sigma$ es cerrada para complementarios: Sea $A\in \Sigma$, entonces $A^c = X\setminus A \in \Sigma$
  \item $\Sigma$ es cerrada para uniones numerables: Sean $\{A_n\}_{n\in\mathbb{N}} \subseteq \Sigma$, entonces: 
  \[\underset{n \ge 1}{\bigcup} A_n \in \Sigma\]
 \end{enumerate}
\end{definition}

\begin{fact}
 Sea $\Sigma$ $\sigma$-álgebra sobre $X$. Entonces:
 
 \begin{enumerate}[i]
  \item $\emptyset \in \Sigma$
  \item $\Sigma$ es cerrada para intersecciones: dados $A,B \in \Sigma$, entonces $A\cap B \in \Sigma$
  \item $\Sigma$ es cerrada para diferencias: dados $A,B \in \Sigma$, entonces $A\setminus B \in \Sigma$
 \end{enumerate}
 
 \label{fact:propsigma}
\end{fact}

\begin{proof}
 Escribimos $\emptyset = X^c$, $A\cap B = (A^c \cup B^c)^c$ y $A\setminus B = A\cap B^c$
 y usando las hipótesis de $\sigma$-álgebra se deduce fácilmente la proposición.
\end{proof}

\begin{definition}
 Sea $\mathcal{A} \subseteq 2^X$. Llamamos $\sigma$-álgebra generada por $\mathcal{A}$ y lo notamos 
 $\Sigma(\mathcal{A})$, a la menor $\sigma$-álgebra sobre $X$ que contiene a $\mathcal{A}$.
 
 \[\Sigma(\mathcal{A}) = 
   \bigcap_{\begin{array}{c}\Sigma, \sigma\textrm{álgebra en } X\\ \mathcal{A}\subseteq \Sigma \end{array}} \Sigma\]
\end{definition}

\begin{definition} \textbf{Semianillo en $X$}

 $S\subseteq 2^X$ es subanillo si verifica:
 
 \begin{enumerate}[i]
  \item $\emptyset \in S$
  \item $A,B \in S$ entonces $A\cap B \in S$
  \item $A,B \in S$ entonces existen $A_1 \ldots A_n \in S$ verificándose $A\setminus B = \sum_{i=1}^n A_i$
 \end{enumerate}
\end{definition}

Damos un ejemplo de semianillo:

\begin{example}
 \begin{definition}
  Sean $X_1, X_2$ conjuntos, $\Sigma_i$ $\sigma$-álgebra sobre $A_i$. 
  
  Dados $A_1 \in \Sigma_1, A_2 \in \Sigma_2$ arbitrarios, definimos el rectángulo de lados $A_1$ y $A_2$ como:
  
  \[Rec(A_1, A_2) = A_1 \times A_2\]
 \end{definition}
 
 
 La clase de rectángulos $Rec = \{Rec(A_1, A_2): A_i \in \Sigma_i\}$ es un semianillo en $X_1 \times X_2$,
 ya que dados $R_1 = A_1 \times A_2 \in Rec, R_2 = B_1 \times B_2 \in Rec$ arbitrarios:
 
 \begin{enumerate}
  \item $\emptyset \in \Sigma_i$, y $\emptyset \times \emptyset = \emptyset$
  \item $R_1 \cap R_2 = (A_1 \cap B_1) \times (A_2 \cap B_2)$, donde $A_i \cap B_i \in \Sigma_i$ por ser 
  $\Sigma_i$ cerrada bajo intersecciones.
  \item $R_1 \setminus R_2 = \{(x,y): (x,y) \in A_1 \times A_2, (x,y) \notin B_1 \times B_2)\}$
  
  Es decir $R_1 \setminus R_2 = Rec(A_1\setminus B_1, A_2) \cup Rec(B_1, A_2\setminus B_2)$ y 
  $A_i \setminus B_i \in \Sigma_i$ por ser $\Sigma_i$ cerrada bajo diferencias.
 \end{enumerate}

\end{example}


\begin{definition} \textbf{Anillo en $X$}

 $R\subseteq 2^X$ es anillo si verifica:
 
 \begin{enumerate}[i]
  \item $\emptyset \in R$
  \item $A,B \in R$ entonces $A\cup B \in R$
  \item $A,B \in R$ entonces $A\setminus B \in R$
 \end{enumerate}
\end{definition}


\begin{fact}
 Toda $\sigma$-álgebra es anillo. Todo anillo es semianillo.
\end{fact}

\begin{proof}
 Que $\sigma$-álgebra es más fuerte que anillo quedó probado en la proposición $\ref{fact:propsigma}$
 
 Sea ahora $R \subseteq X$ anillo y veamos que es semianillo.

 Como $A\cap B = A\setminus (A\setminus B)$, se deduce la segunda condición de la definición de semianillo.
 
 Sean $A, B \in R$, tomando $A_1 = A\setminus B \in R$, $A_n = \emptyset \in R$ para todo $n > 1$, entonces se 
 verifica la tercera condición de semianillo.
\end{proof}

\begin{counterex}
 Veamos un contraejemplo de que no todo semianillo es anillo:
 
 $\Sigma = \{\emptyset, [0,1], [1,2], [0,2]\}$ es $\sigma$-álgebra sobre $[0,2]$, y $[0,1]^2$ y $[1,2]^2$ son rectángulos
 en $[0,2]^2$, pero $[0,1]^2 \cup [1,2]^2$ no puede ser escrito como producto de $A,B \in \Sigma$.
 
 Y uno de que no todo anillo es $\sigma$-álgebra:
 
 Sea $S = \{A\subseteq \mathbb{N}: |A| < \infty\}$. Entonces se puede comprobar fácilmente que es anillo (y semianillo)
 de $\mathbb{N}$, pero no es cerrado para complementarios porque $\mathbb{N} = \emptyset^c$ no es finito.
\end{counterex}


\begin{definition}
 Sea $\mathcal{A} \subseteq 2^X$. Llamamos anillo generado por $\mathcal{A}$ y lo notamos $(\mathcal{A})$ al
 menor anillo que contiene a $\mathcal{A}$:
 
 \[(\mathcal{A}) = \bigcap_{\begin{array}{c}R \textrm{ anillo en } X\\ \mathcal{A}\subseteq R \end{array}} R\]
\end{definition}

Es trivial probar que la definición es correcta ($(\mathcal{A})$ es anillo), ya que dados dos 
conjuntos $B,C \in (\mathcal{A})$, entonces $A, B \in R$ para todo $R$ anillo conteniendo a $A$. Además la
intersección es no vacía, porque $2^X \supseteq \mathcal{A}$ y $2^X$ es anillo.

\begin{fact}
 Sea $S$ un semianillo en $X$. Entonces:
 
 \[(S) = \left\{\sum_{i=1}^n A_i:  n\ge 1, A_i \in S\right\}\]
 
 \label{claim:semiring}
\end{fact}

\begin{proof}
 Sea $R= \left\{\sum_{i=1}^n A_i:  n\ge 1, A_i \in S\right\}$. Es claro que $S\subseteq R$.
 
 Sean $A = \sum_{i=1}^n A_i, B = \sum_{i=1}^k B_i \in R$ no nulos. Entonces $A\cap B = \sum_{i,j} (A_i \cap B_j)$ 
 y $R$, con $A_i\cap B_j \in S$ y $R$ es cerrado para intersección de elementos. Además:
 
 \[A\setminus B = \cup_{i=1}^n A_i \bigcap \cap_{j=1}^p B_j^c = \bigcap_{j=1}^p 
                  \left(\sum_{i=1}^n (A_i \cap B_j^c)\right)\]
 
 Luego aplicando que $R$ es cerrado para intersecciones, llegamos también a que lo es para diferencias.
 
 Por último, como $A\cup B = A \setminus B + B$, entonces $A \cup B \in R$, y $R$ es anillo, con $(S) \subseteq R$.
 Por otro lado, $(S)$ debe contener por definición de anillo las uniones de elementos de $S$, en particular
 $R\subseteq (S)$. Luego $(S) = R$.
\end{proof}


\section{Medidas y extensión de medidas}

\begin{definition} \textbf{Medida}

 Sea $\mathcal{A} \subseteq 2^X$. Llamamos medida sobre $\mathcal{A}$ a cualquier función 
 $\mu: \mathcal{A} \rightarrow [0, +\infty]$ verificando:

 \begin{enumerate}[i]
  \item $\mu(\emptyset) = 0$
  \item $\mu$ es $\sigma$-aditiva: Dados $A_n \in \mathcal{A}$ disjuntos, entonces 
   $\mu\left(\sum_{i=n}^{+\infty} A_n \right)= \sum_{i=n}^{+\infty} \mu(A_n)$.
 \end{enumerate}
\end{definition}

Nótese que la $\sigma$-aditividad implica aditividad finita, esto es, dados $A_i \in \mathcal{A}$ $i=1, \ldots n$,
disjuntos, entonces $\mu\left(\sum_{i=1}^{n} A_i \right)= \sum_{i=1}^{n} \mu(A_i)$.

\begin{theorem}
 Sea $S$ semianillo en $X$, $\mu: S \rightarrow [0,+\infty]$ medida sobre $S$. Entonces existe una única medida 
 sobre $(S)$, $\bar{\mu}: (S) \rightarrow [0,+\infty]$ verificando $\bar{\mu}_{|S} = \mu$.
\end{theorem}

\begin{proof}
 Recordamos que $(S) = \left\{\sum_{i=1}^n A_i: n\ge 1, A_i \in S \right\}$ por la proposición $\ref{claim:semiring}$,
 
 Es claro que $\bar{\mu}$ debería cumplir: 
 $\bar{\mu}\left(\sum_{i=1}^n A_i\right) = \sum_{i=1}^n \bar{\mu}(A_i) = \sum_{i=1}^n \mu(A_i)$
 con $A_i \in S$. Por tanto, dado $A\in (S)$, tomamos $A_i\in S$ verificando $A = \sum_{i=1}^n A_i$, y definimos: 
 \[\bar{\mu}(A) := \sum_{i=1}^n \mu(A_i)\]
 
 Veamos que $\bar{\mu}$ está bien definida, esto es, dado $\sum_{i=1}^n A_i = \sum_{j=1}^k B_j = A$, 
 veamos que se verifica $\sum_{i=1}^n \mu(A_i) = \sum_{j=1}^k \mu(B_j)$.
 
 Como $A_i = A_i \cap A = A_i \cap \left(\cup_{j=1}^k B_j\right) = \bigcup_{j=1}^k A_i \cap B_j$, donde 
 $A_i \cap B_j \in S$ por ser $S$ semianillo. Además como los $A_i$ son disjuntos, los $A_i\cap B_j$ también.
 Aplicando que $\mu$ es medida sobre $S$:
 
 \[\mu(A_i) = \sum_{j=1}^k \mu(A_i \cap B_j) \implies \sum_{i=1}^n \mu(A_i) = 
              \sum_{i=1}^n \sum_{j=1}^k \mu(A_i \cap B_j)\]
 
 Análogamente podemos probar:
 
 \[\sum_{j=1}^k \mu(B_j) = \sum_{i=1}^n \sum_{j=1}^k \mu(A_i \cap B_j)\]
 
 Luego $\bar{\mu}$ está bien definida. Además $\bar{\mu} (\emptyset) = 0$ por ser $\mu(\emptyset) = 0$.
 
 Falta probar la $\sigma$-aditividad de $\bar{\mu}$ y por construcción, habríamos llegado al resultado buscado.
 
 Sean $A_n = \sum_{i=1}^{k_n} A_i^n \in (S)$ disjuntos tal que $A_i^n \in S$ y $A = \sum_{i=1}^{+\infty} A_n \in (S)$. 
 Por ser $A \in (S)$, tendríamos que podemos reescribir $A = \sum_{j=1}^k B_j$ con $B_j \in S$.
 
 Fijamos un $B_p$ y tenemos:
 
 \[B_p = A \cap B_p = \bigcup_{n=1}^{+\infty} \left(\bigcup_{i=1}^{k_n} A_i^n \cap B_p\right) = 
         \bigcup_{n=1}^{+\infty} \bigcup_{i=1}^{k_n} \left(A_i^n \cap B_p\right)\]
 
 Es decir, hemos reescrito $B_p$ como una unión numerable de $A_i^n \cap B_p \in S$, disjuntos, por serlo los $A_i$. 
 
 Aplicando $\sigma$-aditividad en $S$, llegamos a $\mu(B_p) = \sum_{n=1}^{+\infty} \sum_{i=1}^{k_n} \mu(A_i^n \cap B_p)$
 
 Además, como podemos reescribir $A_i^{n} = \sum_{j=1}^k A_i^{n} \cap B_j$, tendríamos:
 
 \begin{align*}
 \mu(A) &= \sum_{j=1}^k \sum_{n=1}^{+\infty} \sum_{i=1}^{k_n} \mu(A_i^n \cap B_j) = 
           \sum_{n=1}^{+\infty} \sum_{i=1}^{k_n} \sum_{j=1}^k \mu(A_i^n \cap B_j) = \\
        &= \sum_{n=1}^{+\infty} \sum_{i=1}^{k_n} \mu(A_i^n) =
           \sum_{n=1}^{+\infty} \mu \left(\sum_{i=1}^{k_n} A_i^n \right) =
           \sum_{n=1}^{+\infty} \mu(A_n)
 \end{align*}
\end{proof}

\begin{definition} \textbf{Medida exterior}
 Sea $\mu^\ast : 2^X \rightarrow [0, +\infty]$ verificando:
 
 \begin{enumerate}[i]
  \item $\mu^\ast(\emptyset) = 0$
  \item Monotonía: $A\subseteq B$ entonces $\mu^\ast(A) \le \mu^\ast(B)$
  \item $\sigma$-subaditividad: $\mu^\ast \left(\bigcup_{n=1}^{+\infty} A_n \right) \le \sum_{n=1}^{+\infty} \mu^\ast (A_n)$
 \end{enumerate}
 
 Entonces $\mu^\ast$ se dice medida exterior sobre $X$.
\end{definition}

\begin{definition}
 Sea $\mu^\ast$ una medida exterior sobre $X$. Definimos la $\sigma$-álgebra asociada a $\mu^\ast$ como:
 
 \[\Sigma(\mu^\ast) = \{A\subseteq X: \mu^\ast(T) = \mu^\ast(T\cap A) + \mu^\ast(T\cap A^c), \forall T\subseteq X\}\]
\end{definition}

Queda comprobar $\Sigma(\mu^\ast)$ es efectivamente una $\sigma$-álgebra.

\begin{theorem}
 Sea $\mu^\ast : 2^X \rightarrow [0, +\infty]$ una medida exterior sobre $X$. Entonces $\Sigma(\mu^\ast)$
 es una $\sigma$-álgebra sobre $X$ y $\mu^\ast_{|\Sigma(\mu^\ast)}$ es una medida sobre $\Sigma(\mu^\ast)$
 
 \label{th:outer-to-measure}
\end{theorem}

\begin{proof}
 Empezamos viendo que $\Sigma = \Sigma(\mu^\ast)$ es una $\sigma$-álgebra.
 
 \[\mu^\ast(T) = \mu^\ast(T\cap X) + \mu^\ast(T\cap \emptyset) = \mu^\ast(T), \quad \forall T\subseteq X\]
 
 Luego $X,\emptyset \in \Sigma$. También es trivial ver que dado $A\in \Sigma$, entonces $A^c \in \Sigma$.
 
 Veamos que $\Sigma$ es cerrada para intersecciones. Sean $A, B\in \Sigma$. Usaremos:
 
 \begin{align}
  T\cap A^c = T\cap (A\cap B)^c \cap A^c \nonumber\\
  T\cap A \cap B^c = T \cap (A\cap B)^c \cap A
  \label{eqn:set-eqs}\tag{$\ast$}
 \end{align}

 Como $A\in \Sigma$, tenemos $\mu^\ast(T) = \mu^\ast(T\cap A) + \mu^\ast(T\cap A^c)$
 
 Por otro lado, como $B\in \Sigma$, tenemos $\mu^\ast(T\cap A) = \mu^\ast(T\cap A\cap B) + \mu^\ast(T\cap A \cap B^c)$
 
 Es decir:
 
 \begin{align*}
  \mu^\ast(T) &= \mu^\ast(T\cap A^c) + \mu^\ast(T\cap A \cap B) + \mu^\ast(T\cap A \cap B^c) = \\
  & \underset{\eqref{eqn:set-eqs}}{=} \mu^\ast(T\cap (A\cap B)^c \cap A^c) + \mu^\ast(T \cap (A\cap B)^c \cap A) +\\
  &+ \mu^\ast(T\cap A \cap B) = \mu^\ast(T\cap (A \cap B)^c) + \mu^\ast(T\cap A \cap B)
 \end{align*}

 Donde en la última igualdad se ha usado que $A\in \Sigma$.
 
 Como podemos escribir $A\setminus B = A\cap B^c$, y $A\cup B = (A^c \cap B^c)^c$ con $A, B \in \Sigma$ que
 hemos probado que es cerrado para intersecciones y complementarios, $\Sigma$ es también cerrado para
 uniones y diferencias.
 
 Dados $A_n \in \Sigma$, como podemos escribir $\bigcup_{n\ge 1} A_n = \sum_{n=1}^{+\infty} B_n$ con los $B_n$ 
 disjuntos, definidos como $B_1 = A_1$, y $B_{n+1} = A_{n+1} \setminus\left(\cup_{i=1}^n A_i\right)$, 
 podemos limitarnos a estudiar uniones disjuntas.
 
 De hecho, dados $B,C \in \Sigma$ disjuntos:
 
 \begin{align*}
  \mu^\ast(T \cap (B\cup C)) &= \mu^\ast(T \cap(B\cup C) \cap B) + \mu^\ast(T \cap(B\cup C) \cap B^c) =\\
                             &= \mu^\ast(T \cap B) + \mu^\ast(T \cap C)
 \end{align*}

 Sean $B_n$ conjuntos disjuntos de $\Sigma$, y llamamos $J = \sum_{n=1}^{+\infty} B_n$, $J_k = \sum_{n=1}^{k} B_n$
 
 Hemos visto que $\Sigma$ es cerrada para uniones finitas, luego $J_k \in \Sigma$ para todo $k\in \mathbb{N}$.
 Vamos a ver que también lo es para uniones numerables. Sea $T\in 2^X$:
 
 \begin{equation}
  \mu^\ast(T) = \mu^\ast(T\cap B + T\cap B^c) \underset{\textrm{monotonía + subaditividad}} \le 
  \mu^\ast(T\cap B) + \mu^\ast(T\cap B^c) \le \mu^\ast(T\cap B) + \sum_{n=1}^{+\infty}\mu^\ast(T\cap B_n))
  \label{eqn:ineqT} \tag{*}
 \end{equation}
 
 Si $\mu^\ast(T) = +\infty$, entonces $\mu^\ast(T) \le \mu^\ast(T) = \mu^\ast(T\cap B^c) = +\infty$, y se da
 la igualdad.
 
 Si $\mu^\ast(T) < +\infty$, tenemos $\mu^\ast(T) \ge \mu^\ast(T\cap J_k) = \sum_{n=1}^k \mu^\ast(T\cap B_n)$
 para $k$ arbitrario, y por tanto $\mu^\ast(T) \ge \sum_{n=1}^{+\infty} \mu^\ast(T\cap B_n)$. Fijado $\epsilon > 0$
 existe $N\in \mathbb{N}$ verificando:
 
 \[\sum_{n=1}^{+\infty} \mu^\ast(T\cap B_n) \le \sum_{n=1}^N \mu^\ast(T\cap B_n) + \epsilon\]
 
 Es decir, tendríamos, desde \eqref{eqn:ineqT}:
 
 \begin{align*}
   \mu^\ast(T) \le \mu^\ast(T\cap B) + \sum_{n=1}^{+\infty}\mu^\ast(T\cap B_n) \le 
   \mu^\ast(T\cap J_N) + \sum_{n=1}^{N}\mu^\ast(T\cap B_n) + \epsilon \le  \mu^\ast(T) + \epsilon
 \end{align*}

 Pero $\epsilon \ge 0$ era arbitrario, luego:
 
 \[\mu^\ast(T) \le \mu^\ast(T\cap B) + \sum_{n=1}^{+\infty}\mu^\ast(T\cap B_n) \le \mu^\ast(T)\]
 
 Es decir: $\mu^\ast(T) = \mu^\ast(T\cap B^c) + \mu^\ast(T\cap B^c)$ y $B\in \Sigma$, y $\Sigma$ es $\sigma$-álgebra
 sobre $X$.
 
 Tomando $T=B$, llegamos a $\mu^\ast(B) = \sum_{n=1}^{+\infty}\mu^\ast(T\cap B_n)$, luego $\mu|_{\Sigma}$ es
 medida sobre $\Sigma$.
 
\end{proof}


\begin{theorem} \textbf{Teorema de extensión de Caratheodory}

 Sea $S \subseteq 2^X$ un semianillo, $\mu:S \rightarrow [0,+\infty]$ medida en $S$. Entonces existe
 una única medida $\bar{\mu}:\sigma(S) \rightarrow [0,+\infty]$ verificando $\bar{\mu}_{|S} = \mu$
\end{theorem}

\begin{proof}
 Si existiese $\bar{\mu}$ debería verificar, por monotonía, que $\bar{\mu}(T) \le \sum_{n=1}^{+\infty} \bar{\mu}(A_n)$, 
 donde $T \subseteq \cup_{n\ge 1} A_n$ y $A_n\in R$ son disjuntos.
 
 Definimos, para cualquier $T\in 2^X$:
 
 \[\mu^\ast(T) = \inf\left\{\sum_{n=1}^{+\infty} \mu(A_n), \cup_{n\ge 1} A_n \supseteq T,
                 A_n\in S \forall n\in\mathbb{N}\right\}\]
                 
 Vamos a ver que $\mu^\ast$ es medida exterior sobre $X$.
 
 Claramente, como $\mu \ge 0$, $\mu^\ast \ge 0$, y $\mu^\ast(\emptyset) = \mu(\emptyset) = 0$
 
 Dado $B\subseteq A \subseteq X$, tenemos que si $\cup_{n\ge 1} A_n \supseteq A$ con $A_n\in S \forall n\in\mathbb{N}$,
 entonces $\cup_{n\ge 1} A_n \supseteq B$ y de la definición de $\mu^\ast$ deducimos $\mu^\ast(A) \le \mu^\ast(B)$.
 Hemos probado la monotonía de $\mu^\ast$.
 
 Sean ahora $\{A_n\}$ subconjuntos de $X$, donde para cada $n\in \mathbb{N}$.
 
 Si existe $A_n$ tal que $\mu^\ast(A_n) = +\infty$, entonces por monotonía 
 $\mu^\ast(\cup_{n\ge} A_n) \ge \mu^\ast(A_n) = +\infty$, y por otro lado 
 $\sum_{n=1}^{+\infty} \mu^\ast(A_n) \ge \mu^\ast(A_n) = +\infty$, es decir:

 \[\mu^\ast(\cup_{n\ge} A_n) = \sum_{n=1}^{+\infty} \mu^\ast(A_n) = +\infty\]
 
 Caso de que para todo $n$ se tenga $\mu^\ast(A_n) < +\infty$, fijamos $\epsilon > 0$
 
 Dado$n\in \mathbb{N}$, por ser $\mu^\ast(A_n)$ un ínfimo, deben existir $\{A_p^n\}_{p\ge 1}$ con 
 $A_p^n \in S$ para cualquier $p\in\mathbb{N}$ verificando $\cup_{p\ge 1} \supseteq A_n$ y que
 $\sum_{p=1}^{+\infty} \le \mu^\ast(A_n) + \frac{\epsilon}{2^n}$
 
 Es decir, tenemos $\cup_{n\ge 1} \subseteq \cup_{n\ge 1} \cup_{p\ge 1} A_p^n$ unión numerable
 de conjuntos $A_p^n$ de $S$, luego:
 
 \[\mu^\ast(\cup_{n\ge 1} A_n) \le \sum_{n=1}^{+\infty} \sum_{p=1}^{+\infty} \le 
   \sum_{n=1}^{+\infty}\mu^\ast(A_n) + \sum_{n=1}^{+\infty}\frac{\epsilon}{2^n} = 
   \sum_{n=1}^{+\infty}\mu^\ast(A_n) + \epsilon\]
 
 Pero $\epsilon > 0$ era arbitrario, es decir: 
 \[\mu^\ast(\cup_{n\ge 1} A_n) \le \sum_{n=1}^{+\infty}\mu^\ast(A_n)\]
 
 Es decir $\mu^\ast$ es medida exterior en $X$, y podemos tomar $\bar{\mu}$ medida sobre $\Sigma(\mu^\ast)$ por
 el teorema \ref{th:outer-to-measure}.
 
 Falta comprobar que $\bar{\mu}_{|\Sigma(S)}$ es medida sobre $\Sigma(S)$ y que es la única extensión posible de $\mu$.
\end{proof}



\section{Espacio medible, de probabilidad}

\begin{definition} \textbf{Espacio medible}

 Sea $X$ un conjunto, $\Sigma$ una $\sigma$-álgebra sobre $X$. A la tupla $(X,\Sigma)$ la llamamos
 espacio medible. A los elementos de $\Sigma$ los llamamos conjuntos medibles.
\end{definition}


\begin{definition} \textbf{Espacio de medida}

 Sea $(X, \Sigma)$ espacio medible, y $\mu: \Sigma \rightarrow [0,\infty]$ medida. A la tupla $(X, \Sigma, P)$ 
 la llamamos espacio de medida.
\end{definition}


\begin{definition} \textbf{Espacio de probabilidad}
 Sea $(X, \Sigma, P)$ espacio de medida. Entonces lo llamamos espacio de probabilidad si $P(\Sigma)\subseteq [0,1]$
\end{definition}


\begin{definition} \textbf{Distribución de probabilidad}

 Sea $(X, \Sigma, P)$ espacio de probabilidad. Llamamos a la tupla $\dist = (\Sigma,P)$ distribución sobre $X$. 
 Si $\dist$ es distribución sobre $X$, lo notamos $x\sim \mathcal{D}$
\end{definition}


\section{Desigualdades de concentración}
\begin{lemma} \textbf{Desigualdad de Hoeffding}

 Sean $(X_1, \ldots X_m)$ una muestra aleatoria simple de una variable $X$, 
 $\bar{X} = \frac{1}{m} \sum_{i=1}^m X_i$ con $E[\bar{X}] = \mu$ y $P[a \le X_i \le b] = 1, i=1, \ldots m$. 
 Entonces para todo $\epsilon > 0$

 \[P\left[\left| \bar{X} - \mu \right| > \epsilon \right] \le 2e^{-2m \left(\frac{\epsilon}{b-a}\right)^2}\]
\end{lemma}